# 1. 产品背景调研

调研流程：

* 输入物： 市场调研（行业报告、竞品分析、学术论文、白皮书等资料）、用户访谈
* 输出物：
  * 用户需求 -> 用户画像
  * 产品功能、产品形态定义
## 1.1     行业调研

从数字校园到智慧校园，科技的发展和政策的扶持让智慧校园产品成为行业热点，也引来许多科技巨头的密切关注，作为科技行业巨头的阿里、腾讯、百度、华为、科大讯飞、英特尔、平安科技等公司在各自智慧城市的布局中也对智慧教育提出了对应的解决方案，新兴的科技公司也纷纷加入。

### 1.1.1科技行业巨头

1    科大讯飞

科大讯飞整体架构为“平台+赛道”人工智能战略，其中的平台指的是“讯飞人工智能开放平台”，“赛道”分别为：教育、司法、医疗、智慧城市、智能服务和智能车载。科大讯飞智慧城市和智慧教育分属两个事业群，智慧教育业务由科大讯飞教育事业群（BG）负责。每年科大讯飞的财报里，“智慧城市”与“教育领域”的业务收入都会单列出来，以2017年为例，两者占总营收的比重之和为55.04%，可见份额之重。据科大讯飞2018年上半年财报显示，2018年上半年，教育板块的营收6.58亿元，同比增长16.35%。目前来看，教育依然是科大讯飞最重要的营收来源。科大讯飞在智慧教育领域，已经打造了包含智慧考试、智慧校园、智慧课堂、智慧教学、智慧管理在内的一体化智慧教育产品体系，在全国31个省、自治区、直辖市及新加坡等海外市场广泛应用，与13000余所学校建立合作，服务师生超过8000万。

据官网介绍，科大讯飞教育产品解决方案基于云计算、大数据、人工智能、移动互联等技术，以优质教育资源共建共享为基础，集教育资源公共服务与教育管理公共服务于一体，满足各级教育行政部门、学校师生等常态化教育教学管理需要。

与智慧校园相关的方案产品包括：**智慧校园：**通过构建校园级应用集成整合平台，实现校园教、考、评、学、管业务的无缝连接与数据贯通。智慧课堂：以建构主义学习理论为依据，以“互联网+”的思维方式和大数据、云计算等新一代信息技术打造的智能、高效的课堂。**智学网：**向学校日常考试及发展性教学评价需求推出的基于知识点地图和优质题库资源的智能化教学辅导平台。**普通话测试：**计算机自动评分，避免了人工评分中能力、情绪、疲倦等主观因素，使考试选拔更加公平公正。

应用场景包括：**校园管理：**建设校本资源库，构建优质资源实时更新、共建共享的生态圈，实现学校优质、特色教学资源的积累和共享。**AIUI语义：**集成语音识别、语义理解相关能力，结合后端信源，直接通过语音调用相关内容信息，达到天气预报、风险预警等信息及时播报。**语义理解：**通过语音处理，进行语义理解，了解用户意图，并通过云端知识库交互达到信息的及时传达；私有云更加定制化的信息确保答案更加精准有效。**汉语水平等级考试：**系统基于国家普通话水平测试大纲，可准确的对考生命题说话之外的所有测试题型进行自动评测。

在科大讯飞2017年度发布会上，讯飞发布了五款AI+教育产品：**智慧微课工具、智慧纸笔课堂、智慧作业平台、智慧组卷工具、智学产品2.0。**

1.   腾讯：打造“腾讯云+智慧校园”解决方案

腾讯智慧教育由腾讯云教育业务中心负责。2018年上半年在广州举办的腾讯“云+未来”峰会首次设置了教育专场。在教育专场上，腾讯云发布了全新的以“**新工科、智慧校园、在线教育**”为核心的教育生态图景。

2015年7月3日，“智慧校园：腾讯QQ‘互联网+’教育服务战略合作签约仪式”在北京腾讯汇举行。会上，腾讯QQ正式推出**“互联网+教育”智慧校园整体解决方案**。

自2015年腾讯推出智慧校园以来，仅仅用了一年的时间，腾讯的智慧校园产品已经覆盖了全国近2000所学校。目前，腾讯智慧校园已落地全国30个省市自治区，覆盖近万所学校、近千万师生家长用户。

据官网介绍，腾讯智慧校园是腾讯推出的学校移动端校园生态圈解决方案，结合腾讯多平台资源，为教育局、学校、学生、教师及家长提供**智慧教学、智慧家校、智慧宣传、智慧安防、智慧办公、智慧数据**等场景的解决方案。

此外，为解决各级教育局、各类学校管理需求，打造"互联网+教育"新生态，腾讯推出针对**教育局、高校、中小学、幼儿园**提出不同的解决方案。腾讯智慧校园的智慧教育数据中心，针对教育管理部门和学校的数据管理需求，打造基于腾讯云的综合解决方案。通过数据规范制定、数据采集，数据互联从而实现教育大数据的分析挖掘。通过规范化教育采集存储，促进平台间数据的互联互通，从而解决数据孤岛问题。

2017年11月17日，在微信智慧工坊智慧教育专场现场，微信支付团队、企业微信团队、腾讯云团队共同亮相，从校园支付场景、大数据应用、线上服务等方面解读了最新腾讯智慧教育一站式解决方案。微信校园卡打通校园服务场景，企业微信打造移动化校园管理平台，腾讯云则助力校园升级大数据能力。

未来，腾讯智慧教育解决方案还将进一步拓展，与全国更多学校、教育机构展开深入合作，全面普及智慧教育。

3.    百度：通过百度教育大脑赋能，整合百度云+百度教育资源

百度智慧教育有两条线。一是**百度教育**，2015年年末，百度成立教育事业部，和云计算、国际化、安全等业务一起，属于新兴业务事业群组，由百度总裁张亚勤统一管理。2015年底，时任百度校园品牌部总监张高调任教育事业部总经理。二是百度云提出的教育行业解决方案。**百度智慧教育方案**主要落地实施由百度教育事业部负责。

百度云教育行业解决方案依托云计算基础服务，借助“百度文库”的生态内容，构建“基础云技术+教育云平台+教育大数据”解决方案，推进教育行业的数字化和智能化。

据易观发布的报告显示，百度教育生态圈主要由2C和2B两大使用场景构成。**百度文库**以及**百度阅读**成为教育生态的资源库，另外，**百度智慧课堂**主要面对K12和高校，可以为中小学及高校提供智能备课、授课和学习解决方案。

目前，百度教育正在实行“生态合作计划”，已与1000多家学校、5000多家教育机构以及400多家出版社建立了合作生态，正在逐步实现“AI+教育”的创新融合与服务落地。

在第二届百度AI开发者大会上，作为百度大脑面向教育行业推出的智慧解决方案，**百度教育大脑**以百度积累的海量专业内容、精准用户画像为数据基础，借助AI技术深入内容化、智能化、个性化三大互动场景。

利用人工智能、大数据和云平台，百度教育大脑将百万级教育知识点整合，通过文档转码技术、文字识别等各种智能技术，进行内容整理、分析处理，形成教育知识图谱。

通过百度教育大脑，百度教育事业部整合教育内容生态，以“技术+内容”的智慧教育差异化模式切入市场，将教育内容同步分发至百度教育旗下文库、阅读、爱听、传课各个产品端。

4.    阿里巴巴：推出 AliOS 智慧教育解决方案

阿里智慧教育由 AliOS 事业部负责。2017年9月27日，阿里巴巴宣布操作系统升级战略，并正式发布全新 AliOS 品牌。全新 AliOS 品牌隶属于全新的阿里巴巴操作系统事业部，面向汽车、IoT 终端、IoT 芯片和工业领域研发物联网操作系统，并整合原 YunOS 移动端业务。

面对教育多端碎片化、信息孤岛、大数据缺失等痛点，AliOS推出智慧教育解决方案：通过通用管理平台、教育账号管理体系及服务、教育应用中心及分发服务等、教育大数据平台及个性化服务等产品，实现多端互联、内容融合、数据智能，让学生得到个性化教育，让教育教学更加轻松。AliOS场景化产品包括：**智慧课堂和智慧校园**。

系统服务产品包括：**AliOS智能通用管控平台**（UCP）：面向教育行业，帮助管理员用户在后台管理教学设备、系统、应用、网站和内容。**AliOS教育大数据平台**（天机）：助力学校沉淀数据资产，通过一站式工具数据画像教育过程，为个性化教学提供数据支持。**AliOS教育大数据服务**：聚合多端和云端数据，向教委、学校、教师、学生、家长等教育用户提供个性化的教育大数据服务。智能终端产品包括：**教育平板、教育一体机、电子班板、学生手表。**

5.    华为：布局清晰，积极“出海”

华为智慧教育业务隶属于智慧城市架构之下。凭借在教育行业多年的深耕，华为以 “网筑数字校园，云播智慧教育”为核心理念，在整合“云、管、端”ICT产品基础之上，推出**“智慧教育云”、“智慧校园”、“智慧云课堂”、“移动书包”**四层次的智慧教育ICT解决方案。

华为智慧校园整体方案由多个子解决方案组成，主要有**无线校园、平安校园、数字图书馆、精细化管理系统方案**等。这些解决方案都需要有线无线网络、数据中心、大数据和云计算平台等基础架构，以及精细化管理、大数据分析等应用构成，以满足教师、学生的教学研工作，以及学校管理者的学校管理工作。

智慧校园解决方案包括：华为智慧校园网络解决方案 ；双活云数据中心解决方案 ；高性能HPC计算中心解决方案；高校数字化图书馆解决方案 ；平安校园解决方案 ；多校区远程教学解决方案。此外，针对国家对基础教育信息化“三通两平台”（宽带网络校校通、优质资源班班通、网络学习空间人人通；建设教育资源公共服务平台、教育管理公共服务平台）建设的要求，华为提出**“三通两平台”解决方案**。“三通两平台”建设的核心是教育城域网和区域数据中心，利用大数据和云计算技术进行优质教育资源的集中和共享。华为“三通两平台”解决方案包括：教育城域网解决方案；云数据中心解决方案；三通两平台视频教学解决方案。

### 1.1.2独立智慧校园平台/解决方案

1. V校智慧校园

V校智慧校园整体解决方案主要涵盖智慧校园，智慧课堂，智慧教育三个部分。目标用户是K12教育，是包括平台、应用软件和智能硬件的综合型一站式智慧校园解决方案。应用软件包括30+系统，300+应用，涵盖了基础沟通、家校互动、校园文化、移动办公、校园安全、数字德育、移动教务、协同教研、互动课堂、智慧教室、校园感知、智慧授课、选课走班、个性学习、学业分析、智能考勤、共享阅读、双师课堂、互动录播、成长档案、教师发展、数字健康等内容。智能硬件包括20+系列，50+型号，主要包括智能班牌、智能书柜、闸门、刷卡POS机、中控网关、智能校徽、智慧平板、智慧手环、智能储物柜等。并且与多个第三方平台、应用、硬件开放合作，生成统一成长大数据方便集中管理。

2. 众智软件

众智软件针对智慧校园提出了WSCHOOL智慧校园综合管理系统和SAFE校园双重安全信息系统两个产品。WSCHOOL智慧校园综合管理系统在公司自主研发的三维平台wisemap基础上结合bim技术，融入校园数据形成空间信息模型系统sim（space  information  model），并与校园人员智能手机app和物联传感组成的感知网络一起，建成具有互动特征的时空信息有机体，形成校园的三维空间加上时间维度的四维环境，实现对资产和运维的科学管理。SAFE双重安全信息系统系统采用国际先进的顶层架构设计，建设“省、市、县（市、区）、校、家”五级联动的校园安全风险隐患双重预防体系，对安全管理工作做到：事前预防有方法，事中决策有依据，为各级各类校园安全管理工作提供全面的解决方案。

3. 安脉科技

安脉科技推出《安脉学校综合管理平台》。平台依托基础平台、开放应用接口，解决统一身份认证和一站式登录，是互联网+教育在校园应用的集中体现，是智慧校园的应用集群，核心内容包括：智慧办公、教学质量监测、智能质量分析报告、新高考智能选排课、校本选课、智能排课、考务管理、人工智能学业预警等。                     

## 1.2    市场调研

学术研究方面，以“智慧校园”为篇名进行检索,最早的一篇论文为2010年发表。2010年开始,全国数字校园建设与创新发展高峰论坛每年举办一届。2010年可谓是我国的“智慧校园元年”。此后几年我国的智慧校园建设仍处于起步探索阶段。对文献发表年份进行统计,得到图1所示折线图。从该图可以看出,有关智慧校园的核心期刊论文年发表量呈逐年稳步上升的趋势,表明智慧校园的热度近五年来有增未减。总发文量的大幅增长,则表明越来越多的学者开始关注并步入这一领域。

随着智慧校园热度上升,我国已有近百所学校着手于智慧校园的建设。2015年至2016年间,论文年发表总量及核心期刊论文年发表量皆增幅最大。由此看来,我国的教育建设不久将步入“智慧校园”时代。

![图片](https://uploader.shimo.im/f/GFtJeL1ubDGbUJ6h.png!thumbnail)

市场方面，随着人工智能、物联网等新兴技术的不断发展，我国智慧校园行业的市场规模也不断扩大。2012年我国智慧校园市场规模突破200亿元，2018年达到621亿元，预计2020年市场规模突破千亿。

![图片](https://uploader.shimo.im/f/tyCV3Iz4AxuiSYTf.png!thumbnail)

![图片](https://uploader.shimo.im/f/9BeDIPMqCq5BdQOY.png!thumbnail)

## 1.3     用户调研

### 1.3.1 用户访谈记录

每类用户2份记录，篇幅所限，这里仅各收录一份。

**学生访谈记录：**

1.     你所在的学校是否在使用智慧校园？一般是哪种存在形式？（app/网站/微公众号/QQ公众平台）

没有使用智慧校园，一般是用钉钉、微信、QQ交流。App用的也少。

2.      您觉得智慧校园的哪些方面还需完善？或者希望还增加哪些功能？

（信息提醒、校园生活一站式服务、基础设施使用、后勤管理、学习管理、安全系数/其他）

希望增加安全系数，有的时候发现同学之间有争执，老师在调节的过程中没有什么依据，就根据自己以往对学生的认识来调解。

3.     你平时是否在校园中遇到过安全方面的问题或疑惑？目前智慧校园对该板块的功能能否很好地解决你的问题？

安全就是刚才提到的那个，再就是有时校外建筑工人进来，有时会用我们的厕所，在走廊里大摇大摆，感觉不是很安全吧，中午有的时候也休息不好。

4.     在进行实验课操作或体育活动中若遇到人员受伤情况，现有的智慧校园功能能否快速地帮助到你？

肯定是不能帮助的，我们学校现在就安全方面就只有一些地方有监控，而且监控存档也是问题，有的时候翻监控都找不到什么

5.     你认为学校存在哪些安全隐患？（门禁、进出校园登记、校内宿舍安全、校内公司财务安全、校内交通秩序安全、校内消防管理/其他）

门禁，现在进入校门登记的方式就是拿纸和笔记，感觉不太靠谱。

6.     你对校园智能环境的建设和使用了解吗？是否满意？比如对于如何使用烟雾报警器、智能化控制所处环境的灯光、温度湿度调节等。

我们学校好像也没有这些，调节全靠人手。没有空调和湿度调节器，就有电扇

7.     如果智慧校园连接可穿戴的设备（如智能手环等）能够记录你在校园的全方位的安全情况，你会感兴趣并经常查看它显示的数据吗？

肯定会的，毕竟很新潮嘛

8.     学校如果推送安全方面的提醒，你觉得是否有必要？（比如宿舍有陌生访客预警等）

我觉得，提醒倒是没啥必要，就是做好监管就行

9.     遇到安全问题，你会主动与家长、老师进行沟通吗？

可能更多地会和家长同学沟通，和老师沟通还是比较难。

10.  你对学校周边环境安全治理工作状况是否满意？（校内巡逻，校外车辆人员来访等）

不满意，学校周边全是网吧，有的家里管得不是很严的同学，放学会去网吧，学校周边的饮食也不太干净。

**家长访谈记录**

1.     您孩子所在的学校有类似智慧校园平台的建设吗？您对现有平台与家长的互动是否满意？

好像只有钉钉和QQ。互动不太满意，老师会在微信群里点名，感觉有时候有点丢面子。

2.     您最关注孩子在校的哪些情况？认为智慧校园有哪些功能需要优化或增加？

首先就是在校的安全，还有上课孩子是否认证听课，不过肯定还是安全第一的。我觉得要是做这方面的话，开始要加强学校的安全建设。

3.     您对孩子的食堂、宿舍、学习期间的安全情况是否有及时有效地了解？

这个是不是很了解的，吃什么，住在哪都不是很清楚。

4.     您对孩子在校安全的重视程度？会定期和老师、孩子沟通在校安全的问题吗？或者以何种方式了解孩子的在校安全情况？

非常重视，平时也会问一些安全上的问题，但是孩子也不太清楚，平时这些事情也不会麻烦老师

5.     您对孩子所在学校的安全防控措施、安全教育满意吗？能否收到定期的安全提醒？如果有，频率是？

由于对学校的安全防控不太了解所以也不好评价，基本上是没收到过安全提醒的。

6.     您对于孩子到校和离校时间了解吗，是否能及时掌握孩子的动向？

到校时间是了解的，但是离校时间不确定，老师有时候拖堂，有时候早放学，都是问了孩子才知道。

7.     如果智慧校园连接可穿戴的设备（如智能手环等）能够记录孩子在校园的全方位的安全情况，您会购买并让孩子使用吗？

会的，涉及到安全问题的是一定会花钱的

8.     您是否遇到过孩子在校出现安全问题的情况？解决结果满意吗？是否遇到困难。

遇到过孩子在学校被同学欺负，解决的结果我认为是不太满意，和老师沟通不畅，也没有什么证据

9.     您使用频率最高的智慧校园板块是什么？如果针对孩子在校安全设计专门的产品，您会选择购买并使用吗？

现在使用最多的就是钉钉，在上面与老师交流，有关安全的话，是一定会花钱的，安全第一位。

10.  如果有一款针对学生安全为主的智慧校园产品，您还希望增添何种功能满足您的需求？

主要是监控功能，希望能够实时监控学校的情况，另外希望有能监控学生学习情况的那种功能，上课是否认真听讲等

**老师访谈记录：**

1.     您所在学校对智慧校园的建设程度如何？信息化教学水平怎样？

学校智慧校园现在仅仅局限于用一些办公软件，信息化教学水平低下。

2.     您认为使用频率最高的智慧校园功能是什么？哪些板块还需优化或新增？

目前使用最高的是直播上课，钉钉的。我认为可以新增一些老师和家长互动的平台

3.     您是否重视学生在校安全的情况？目前的智慧校园对该板块的建设情况如何？

非常重视学生在校的安全情况，目前我们学校是没有智慧校园的建设的，安全方面做的我认为不是很完善，就依靠个别几个摄像头。

4.     你是否能及时了解学生的安全情况（人身、隐私、财产、教学）并定期反馈给家长？您觉得目前与家长进行这方面沟通时有困难吗？

并不能及时了解学生的安全情况，因为学生数量太多，没办法每一个人都关注。目前和家长聊的较多的还是学习方面，安全方面好像没什么担心的。

5.     您在使用多媒体教学或设备时有遇到过困难或安全隐患吗？能否及时有效解决？

这个还没遇到，就是有时候会忘了关电脑

6.     您目前使用何种方式统计学生出勤状况（上课、到校）、离校（包括节假日）、请假等信息？

就是上课点名，然后记录，大概会看一下那个位置上缺了谁，请假的信息也没有汇总，就是和家长沟通过后就允许请假。

7.     您认为校园监控起到的作用大吗？对学校的安保措施和应急点、保卫巡逻点是否了解并快速找到？

我认为全方位的实时监控意义很大，学校的安保措施和巡逻点能够找到，但是感觉他们发挥的作用并不大，雇的都是一些腿脚不好的老大爷，真遇上什么危险应该也应付不来

8.     您认为学校的安防措施、安全宣传是否及时到位？

我认为是不到位的。安全宣传一般同学们都不会听，都是自己做自己的，学校也没有很关注这方面，就是每周开一次班会，老师负责强调一下。

9.     您平时处理过学生之间的安全纠纷吗？遇到过哪些困难？  

也处理过，困难就是找不到什么依据，最终只能是大事化小，小事化了。不能从根本上解决同学之间的矛盾。

**校方访谈记录：**

1.     您认为目前学校的信息化建设水平如何？

学校信息化水平一般，没有成体系化的平台，就是依靠第三方软件

2.     是否有智慧校园管理平台？哪些智慧校园板块还迫切需要完善？

没有这个平台，我们的管理比较分化，并没有统一的管理平台。

3.     如果有智慧校园平台，目前智终端形式是怎样的？是否会就某些业务收费？

无

4.     学校的安全事故发生频率？是否在处理学生纠纷时遇到过困难？是否能有效解决？

安全事故发生频率不高，主要集中在同学之间的小打小闹，针对这一问题，老师完全就能解决。

5.     在安全方面的家校互动建设如何？是否能得到教师和家长的及时反馈？

安全方面，校园在各个角落安放了监控，但是监控存储有些问题，所以需要定时删除监控录像来存放新的录像。一般是不能得到及时的反馈

6.     学校是否配备完备的监控系统和门禁系统（尤其是重点区域）？以何种方式进行对人员/车辆的管理？

称不上是系统吧，就是有一个监控室，每天会有人监控重点区域。外来人车一般都是在门口门卫登记。与老师或者领导取得联系同意后，方可进入。

7.     是否全天候开启视频监控功能？如何管理视频数据和图像存储？如何保障上传到平台的数据安全？对角色权限的管理是否合理？

做不到全天候，大概就是学生从进入校园到离开校园。数据和图像存储在学校的一个服务器上。安全方面没考虑过。

8.     是否已实现智能化教学？是否有专门的多媒体管理，效率和评价如何？

还没实现智能化教学，现在第三方软件做的也比较成熟，老师利用软件和家长都能取得及时的练习。并没有专门的管理

9.     校园网络的覆盖范围和速度水平怎样？信息发布是否及时？

校园网络是公用网络，无法连接外网，这样做是为了防止学生用网。信息发布一般都是由教务处发布给老师，老师发布给家长，可能会有些延时吧，不过好像也耽误不了什么

10.  学校的资产安全（财产安全、收费系统、固定资产）如何保障？采用何种形式？

具体这个是财务部门的，我还不太清楚，但是应该每一笔账都有登记。好像是excel吧。

11.  校园有定期的安全宣传教育吗？是否有定期巡逻的安保人员？有配备应急指挥和自动报警系统吗？

安全教育一般是在一周一次的班会上，老师会口头强调一下。应急只会没有，但是有自动报警系统。

12.  目前学校的食品安全如何保障？采用何种形式？源头、过程是否有全程监控？

学校有定期合作的蔬菜、肉采购商，监控是没有，但是毕竟合作了好多年，还是有点信任的

13.  校园环境管控的表现怎样？是否会对基础设施进行定期维护和升级？是否有进行定期的安全检查（消防等）？以何种形式？

维护和升级肯定有，但是周期比较长，毕竟学校的资金也是很短缺的。一年有一次安全检查，主要是市卫生部门来做一些监测。

14.  如果有一款能让您了解孩子安全信息的产品，您最关注它的什么方面（价格、实用性、功能全面性、数据真实性、呈现形式等）？

最好是能了解学生什么时候到家，在离校的时候去了哪，并且能够监测老师对学生的行为，当然了，也是要价格优惠一点，给每个学生安排一个好像不太现实

### **1.3.2 用户需求分析**

通过对用户的访谈记录，整理出如下的用户需求

1.学校“智慧”程度虽就前几年有所提升，但还是程度不高，大部分局限于教学方面

2.学校安全管理不成体系、不规范化，涉及到安全方面仅仅依靠有限的监控、人脸识别等

3.学校安全管理不全面，无法有效的保证学生各个方面的安全，学生放学后校外的安全没法保障

4.老师无法关注到每一个学生，日常管理中难免会有疏漏

5.学校应急措施不完善

6.学校对学生的安全教育比较形式化，在处理学生之间的冲突上不成熟

7.家长对孩子安全关注度高，但是较难得到孩子在校的安全信息，或者信息获得比较滞后

8.学生和家长以及老师沟通上还有障碍

### **1.3.3  用户画像**

学生用户画像：

![图片](https://uploader.shimo.im/f/Q5Z7sQmkU2oMlSi6.png!thumbnail)

老师用户画像：

![图片](https://uploader.shimo.im/f/VmBQCmEYk8RzYP8c.png!thumbnail)

家长用户画像：

![图片](https://uploader.shimo.im/f/a7YHIyxsNeIeSizY.png!thumbnail)

校方用户画像：

![图片](https://uploader.shimo.im/f/60UJSexPbIv6BUzz.png!thumbnail)

## 1.4 输出物

### 1.4.1 产品功能定义

![图片](https://uploader.shimo.im/f/YU51WC89J3N0bAOJ.png!thumbnail)

![图片](https://uploader.shimo.im/f/RMHWJOq2SiSutTXr.png!thumbnail)

![图片](https://uploader.shimo.im/f/ljFmMP6soiUHPWvi.png!thumbnail)

![图片](https://uploader.shimo.im/f/VNzrJeRoDtmPbsdC.png!thumbnail)

### 1.4.2 产品形态定义

![图片](https://uploader.shimo.im/f/FtxVvqFUqd8MBFTj.png!thumbnail)![图片](https://uploader.shimo.im/f/fPZquFw1ayGFihss.png!thumbnail)

![图片](https://uploader.shimo.im/f/DX29QDbiupzFD8eQ.png!thumbnail)

![图片](https://uploader.shimo.im/f/Ex3ETVVObhErxjpC.png!thumbnail)

 

1. 产品设计
## 2.1 产品简介

从学生，教师，家长，校方的需求出发，部分场景通过故事版细化流程，定义产品需求和形态，设计教师、家长、普通管理员和超级管理员的操作页面。

## 2.2 场景设计

### 2.2.1 学生

后期设计过程中发现学生存在较少的场景需求，故舍弃了学生端。

### 2.2.2 老师

产品逻辑图

![图片](https://uploader.shimo.im/f/pTiN8mmLXIr3D295.png!thumbnail)

故事版

![图片](https://uploader.shimo.im/f/pJF1uPaAm9xdXx7t.png!thumbnail)

![图片](https://uploader.shimo.im/f/TNV5cFKozWaezYFD.png!thumbnail)

### ![图片](https://uploader.shimo.im/f/54kdATHukipQ5G4Q.png!thumbnail)

### 2.2.3 家长

产品逻辑图

![图片](https://uploader.shimo.im/f/x3TvCPMnX0UE00jp.png!thumbnail)

故事版

![图片](https://uploader.shimo.im/f/G16ZCLdy3Obq6NER.png!thumbnail)

![图片](https://uploader.shimo.im/f/n9ByjKeG12VbwHKb.png!thumbnail)

### 2.2.4 普通管理员

产品逻辑图

![图片](https://uploader.shimo.im/f/v4pdAMyfYqpQhwji.png!thumbnail)

### 2.2.5 超级管理员

产品逻辑图

![图片](https://uploader.shimo.im/f/fanTRcyAc19VEfyG.png!thumbnail)

## 2.3 原型设计

分别进行了中低保真和高保真两次设计。

中低保真是只设计到二级页面，根据用户需要进行了信息架构、业务流程的思考。

高保真对核心功能进行了页面逻辑流程的进一步完善，并根据色彩模版进行选色，在设计时也参考了平面设计、色彩搭配、排版等理论知识。

设计规范：

（1）设计尺寸

Web端的尺寸：

![图片](https://uploader.shimo.im/f/MVtihu2h3SJWTaKd.png!thumbnail)

手机端尺寸：

![图片](https://uploader.shimo.im/f/UuSy55FbWK9b5cHJ.png!thumbnail)

（2）字体规范

所有原型图中均没有英文，只有中文和数字，中文全部使用Microsoft YaHei UI字体。普通字体选用30号大小，提示类字体较小，选用14号大小，所有在空间内的字体选用18号字体且居中。所有字体选用#2E476E颜色。

 （3）图片规范

所有图片选用插画文件中的卡通插画，只能从文件中选，不能额外添加图片

 （4）颜色规范

由于我们的产品针对普教，所以颜色选用较为明亮的黄色，其他颜色使用colorscheme网上的色盘颜色：

![图片](https://uploader.shimo.im/f/OQKet9mQY11cPGXt.png!thumbnail)

颜色分别为：#F3B24F、#FFC19A、#8EC3CB、#2E476E

网站的字体大小并没有硬性规定具体的字号，根据实际情况可以酌情考虑，但是要有限适用偶数字号。

字体规格也不需要太多，最好适用三种混搭。如果需要更多层次的区别，可以改变字体颜色或加粗来体现。

### 2.3.1 教师

产品形态呈现：手机H5/app

针对老师用户，原型主要包括：

* 登录页：老师进行查询和操作前，需要登录。包括账号密码登录、短信验证码登录、微信登陆以及QQ登录。同样包括忘记密码以及遇到问题（登录问题解决办法和反馈）等。登录前需要选中同意《用户服务协议》和《隐私政策》按钮，否则不能成功登录。
* 首页：
  * 在线培训：老师接受安全知识培训的入口
  * 监控：查看监控入口
  * 学生档案：查看学生档案入口
* 在线培训页：显示推荐课程和其他老师都在看课程，可以在搜索框搜索课程。同时会展示老师学习的课程的学习进度。
* 监控页：可以进行场景搜索，显示地图，并会在地图中将地点标出，场景主要包括教学楼、操场、体育馆和校门等。例如选择教学楼场景，点击之后可以选择所有的教学楼。例如，选择教学楼1后，会按照楼层显示班级和走廊的监控视频。
* 监控页-2：显示当前查看位置地图，显示当前查看位置，并提供精准搜索。
* 监控页-3：显示精准搜索信息，显示当前查看位置，并可以查看班级和走廊视频监控。
* 学生档案页：从首页进入学生档案页，可以对学生档案进行搜索和添加，并对学生档案信息以列表形式展示，主要显示学生姓名和学号等缩略信息。点击具体一个同学档案条目，会进入学生档案详情页，该页展示学生的详细安全信息，包括安全信息统计，学生健康记录和成长记录等。
* 安全提醒页：主要以每天（以天为单位的日期排序，可以查看特定时间范围内的数据）为单位展示安全报警事件，会显示报警人信息，发生时间和地点。老师可以选择查看或者忽略。
* 提醒详情页：在安全提醒页点击查看后进入详情页，主要包括：
  * 考勤情况提醒
    * 包括学生应到、实到和缺勤名单等等，并且可以提交学生缺勤名单、查看缺勤学生位置和考勤记录。
  * 报警信号
    * 显示报警人，报警类型，提示是否可以查看报警位置监控，在地图上显示报警位置，预计从当前位置到达报警位置所需时间，可以点击立即前往使用第三方导航软件辅助导航。
  * 手环数据异常提醒
    * 可以查看报警学生的个人信息，显示异常数据，可以查看各种健康指标的历史数据，可以选择呼叫学生本人进行通知和核查。对学生健康状态进行情况反馈，包含设备故障和情况属实已处理。同时可以查看该学生的运动周报和健康月报。
  * 环境异常提醒
    * 显示环境状态和异常信息，可以查看各传感器的运行状况。
* 个人信息页：老师的个人信息查看和修改，还包括体温记录、考勤记录和意见信箱，以及退出登录操作。

中低保真版

![图片](https://uploader.shimo.im/f/L7Rd1dWhCEVsOuiY.png!thumbnail)

![图片](https://uploader.shimo.im/f/luG27EIQBhXihRoi.png!thumbnail)

![图片](https://uploader.shimo.im/f/LJ06p79GFWoDcdHu.png!thumbnail)

高保真版

![图片](https://uploader.shimo.im/f/phywVFg0l2xZ0gZK.png!thumbnail)

![图片](https://uploader.shimo.im/f/zlQg7Ec0m7tcDneT.png!thumbnail)

![图片](https://uploader.shimo.im/f/qNnaukr9J3iXlZ2y.png!thumbnail)

![图片](https://uploader.shimo.im/f/HGoREPIWVwJxJyd6.png!thumbnail)

![图片](https://uploader.shimo.im/f/wOO9AvvdufkGfk1Z.png!thumbnail)



### 2.3.2 家长

产品形态呈现：手机h5/app

针对家长用户，原型主要包括：

* 登录页：家长进行查询和操作前，需要登录。包括账号密码登录、短信验证码登录、微信登陆以及QQ登录。同样包括忘记密码以及遇到问题（登录问题解决办法和反馈）等。登录前需要选中同意《用户服务协议》和《隐私政策》按钮，否则不能成功登录。
* 首页：不仅显示校园安全通知、安全新闻等，还有安全报告（手环报告、消费记录、饮食报告和环境报告等）、监控定位（实时和历史监控）和贴心服务板块（车位维修、校园导航和意见反馈）。
* 安全报告概览页：显示学生信息（班级、学号、安全值），显示消费记录，报警信息，健康状况和营养状况的概况信息。
* 消费记录页：可以查看各个日期的消费记录（默认显示今天），显示当天支出和收入，消费地点和金额，可以查看账单和消费类别统计分析。
* 饮食报告页：通过日期和食堂查看孩子的饮食信息。
* 实时定位：可以在地图显示孩子实时位置信息，会显示孩子的计划任务和位置，如果发生偏离会有红色标识提醒。同时可以选择是否呼叫孩子核实情况。
* 监控页：搜索和查看实时监控视频，可以选择特定范围的场景。

![图片](https://uploader.shimo.im/f/VHv8rFL9sdEDcHwV.png!thumbnail)

![图片](https://uploader.shimo.im/f/Z3z8umFTAehlTW3j.png!thumbnail)

![图片](https://uploader.shimo.im/f/oDGjyglpHNWUhfXN.png!thumbnail)

### 2.3.3 校方普通管理员

针对校方普通管理人员，原型主要包括：

* 登录页：校方管理人员进行查询和操作前，需要通过账号密码登录。忘记密码时可以通过忘记密码按钮按照操作验证后找回密码。
* 首页：页面左侧显示分类，包括监控台、告警信息、考勤统计、人员管理、访客管理等等，点击左侧分类，可以查看该分类服务的详细信息。其中监控台展示所有分类的概括信息。
* 监控页面：可以搜索各个日期，各个位置的实时和历史监控视频。
* 人员管理页面：通过人员分类（比如学生）显示人员信息，包括姓名、年级、班级、监护人和监护人联系方式等。可以对人员信息进行查询和修改。

低保真版

![图片](https://uploader.shimo.im/f/xIEiP35RqYdHkekz.png!thumbnail)

![图片](https://uploader.shimo.im/f/MyCjPFV6zCB5RPsR.png!thumbnail)

高保真版

![图片](https://uploader.shimo.im/f/p9gt2Vn1LL7S8IAl.png!thumbnail)

![图片](https://uploader.shimo.im/f/s0TbPLo1Gh9nvrpW.png!thumbnail)

![图片](https://uploader.shimo.im/f/3wVyCjgCtnaeBwW5.png!thumbnail)

![图片](https://uploader.shimo.im/f/UyF1Aa5LbEkoe1tq.png!thumbnail)

![图片](https://uploader.shimo.im/f/fDTVBlM6CvlF5L1R.png!thumbnail)


### 2.3.4 校方超级管理员

针对超级管理员用户，原型主要包括：

* 登录页：超级管理员进行查询和操作前，需要通过账号密码登录。忘记密码时可以通过忘记密码按钮按照操作验证后找回密码。
* 首页：页面左侧显示分类，包括数据库管理、权限管理、数据分析和异常提醒。数据库管理又包括摄像头数据、用户信息、告警信息等等，可以选定日期和类型搜索，可以查看数据并修改。
* 监控页面：可以搜索各个日期，各个位置的实时和历史监控视频。
* 数据分析页面：展示数据分析过程，可视化数据分析结果，例如KNIME的方式。

低保真版

![图片](https://uploader.shimo.im/f/BPVnIqaHAM7YevbR.png!thumbnail)

高保真版

![图片](https://uploader.shimo.im/f/rws7elwxp500Stsq.png!thumbnail)

![图片](https://uploader.shimo.im/f/PBuKUcKNgcXTYgcG.png!thumbnail)

![图片](https://uploader.shimo.im/f/L6bRiDaFlVn0bLBu.png!thumbnail)

![图片](https://uploader.shimo.im/f/zbTNTASaYA3xaCy1.png!thumbnail)

1. 技术支持
## 3.1 物联网平台设计

在物联网平台层我们产品设计分为以下几个层次。其中设备层为我们采集到的数据来源，包括摄像头，智能手环，传感器等物联网设备来采集环境的信息。对于在设备层获取到的数据，可能设备的批次，产地，品牌有所不同，需要对采集到的数据进行数据的归一和格式的标准化。

平台层是安全校园主要的子模块集合，包括用户管理，监控管理等主功能。是在物联网层中集成底层设备数据和为上层应用提供支持的关键模块。用户管理和仪表盘管理等等。并为后续的平台提供可扩展性。

在平台层之上是应用和视图层，为用户提供可视化的应用模块，并支持给用户多种数据和结论的展现方式。包括仪表盘，报表分析等等。最上面一层的入口层是用户使用安全校园的方式，在设计里，我们包括4种入口接入用户的流量，包括移动端，小程序，PC端和WEB端。

具体的层级关系如下图：

![图片](https://uploader.shimo.im/f/PY2jW7hq5rPpJzHb.jpg!thumbnail)

## 3.2 系统总体设计

系统的总体设计如下图所示，在物联网的终端设备端有智能手环，摄像头，传感期三类的数据采集设备。对采集的数据经过中间件的处理，屏蔽掉设备的批次，厂家等差异，将格式化的数据传输给适配器模块。

适配器模块负责对数据的清洗和预处理，将有效的数据过滤出来并继续向下传输给汇聚计算，在汇聚计算经过map-reduce对来源的数据按照学生用户进行了汇聚。并将汇聚后的待分析数据交给高级异常检测检测模块。

高级异常检测检测对同环比等学生个体进行了算法层面的挖掘分析，对个体化的差异进行数据上的监测。并将异常的结果传输给报警通路模块，交给报警通路进行告警消息的合并，渲染并最终下达告警到用户手中。

![图片](https://uploader.shimo.im/f/I1NKNoGhERJcv3lv.jpg!thumbnail)

## 3.3 如何接入不同设备

智慧校园系统需要实时收集和监测各种硬件设备的数据，各种硬件设备型号不同、传输协议不同、数据格式不同，等等。我们加入了数据接入中间件解决数据接入，数据预处理和设备更换带来的问题。中间件是解决应用系统和硬件接口问题的方式，扮演各种硬件设备和应用程序之间的“中间介质”。从应用程序端使用中间件所提供的一组通用的应用程序接口（API），既能连接到硬件设备（比如RFID读写器、各种传感器），读取硬件设备当中的数据（比如读取RFID标签数据、各种传感器数据）。这样一来，即使存储硬件设备数据的数据库软件或者后端应用程序增加或者改由其他软件取代，或者硬件设备种类增加或改变（读写RFID读写器种类增加或者改变）等情况发生时，应用端不需修改也能处理，省去多对多连接的维护复杂性问题。

中间件是位于平台（硬件和操作系统）和应用之间的通用服务，这些服务具有标准的程序接口和协议。针对不同的操作系统和硬件平台，它们可以由符合接口和协议规范的多种实现解决分布异构问题。

![图片](https://uploader.shimo.im/f/rivGIHdZbWYXn8mi.png!thumbnail)

数据接入中间件处理流程

中间件的主要任务是对阅读器和各种传感器传来的与数据（RFID标签数据和传感器数据）进行过滤、汇总、计算、分组，减少从阅读器和传感器传往企业应用的大量原始数据、生成加入了语意解释的事件数据。可以说，中间件是应用系统的“神经中枢”。

![图片](https://uploader.shimo.im/f/s5xQMggLjooWbVYk.png!thumbnail)

中间件的原理

数据接入中间件是一种面向消息的中间件(Message - oriented Middleware，MOM )，信息(Information)是以消息(Message)的形式，从一个程序传送到另一个或多个程序。信息可以以异步(Asynch ronous)的方式传送，所以传送者不必等待回应。数据接入中间件位于RFID阅读器、各种传感器和应用系统之间，负责阅读器与传感器和应用系统之间的数据传递。解决传输数据的可靠性、安全性及数据格式转换的问题。中间件和硬件设备之间的连接采用中间件提供的API(应用程序接口)来实现。RFID卡中数据经过阅读器读取后，经过API接口传送给中间件。中间件对数据类型进行识别和数据处理后，向云服务器上的标准接口和服务推送数据。

	 

中间件特点：

１．满足大量应用的需要

２．运行于多种硬件和OS平台

３．支持分布计算，提供跨网络、硬件和OS平台的透明性的应用或服务的交互

４．支持标准的协议

５．支持标准的接口

由于标准接口对于可移植性和标准协议对于互操作性的重要性，中间件已成为许多标准化工作的主要部分。

 

中间件特色：

1. 独立于架构（Insulation Infrastructure）

中间件独立并介于RFID读写器、各种传感器与后端应用程序之间，并且能够与多个RFID读写器、多种传感器以及多个后端应用程序连接，以减轻架构与维护的复杂性。

1. 数据流（Data Flow）

中间件具有数据的搜集、过滤、整合与传递等特性，以便将正确的对象信息传到企业后端的应用系统。

1. 处理流（Process Flow）

中间件采用程序逻辑及存储再转送（Store-and-Forward）的功能来提供顺序的消息流，具有数据流设计与管理的能力。

1. 标准（Standard）

以RFID为例，RFID为自动数据采样技术与辨识实体对象的应用。EPCglobal目前正在研究为各种产品的全球惟一识别号码提出通用标准，即EPC（产品电子编码）。EPC存放在RFID标签中，被RFID读写器读出后，即可提供追踪EPC所代表的物品名称及相关信息，并立即识别及分享供应链中的物品数据，有效率地提供信息透明度。

 

以处理RFID标签数据为例，数据接入中间件扮演RFID标签和应用程序（云端的各种服务）之间的中介角色，RFID阅读器读取RFID标签数据后，发送给数据接入中间件，中间件识别数据来源为RFID，会按照相应的规则进行预处理，并将处理后的数据推送到云上需要这些数据的服务中。中间件接口定义了一个相对稳定的高层应用环境，不管底层的计算机硬件和系统软件怎样更新换代，只要将中间件升级更新，并保持中间件RFID采集系统的接口定义不变，应用软件几乎不需任何修改，从而保护了企业在应用软件开发和维护中的重大投资。同时，使用中间件有助于减轻二次开发时的负担，使升级现有软件系统时显得得心应手， 同时能保证软件系统的相对稳定，及对软件系统的功能扩展等，简化了开发的复杂性等。

## 3.4 断网时的容灾设计

设备采集后的信息经过数据中间件的处理后是进行数据的双写，一份写到云上的适配器入口端，一份记录到部署在云下本地的数据库中。当网络出现中断，无法向云端传输数据后，采集的数据会在本地数据库中进行记录。当感知到网络恢复后，云端的适配期模块会与本地的数据库进行同步，对于断网后的数据进行数据载入和处理。

经过这样的容灾设计后，断网造成的影响只会让报警发送的时间产生响应的延迟，不会对系统的其他功能产生影响。

## 3.5 数据方案设计

### 3.5.1   数据传输

### ![图片](https://uploader.shimo.im/f/6644Hl3WOM4ClHLV.png!thumbnail)

●插入设备首选WiFi协议

	●需要与手机交互则选择蓝牙

	●传感器产品选择ZigBee协议

	

（1）蓝牙：

通过蓝牙感应终端，将分布在覆盖范围内感应行为统一反馈给蓝牙路由器；反之，支持多台蓝牙设备同时连接的长距离传输网关：蓝牙路由器则协同物联网管理器（AC），同时作用数百上千个蓝牙感应终端，收集、监测、管控分布在电子班牌、学生手环、智能门禁等关键感应部位的行为数据。当前基本世面上的可穿戴设备基本都选用蓝牙4.0方案。

蓝牙使用跳频和政府级别的加密技术，从而确保了不受外界的拦截和破解，因此蓝牙非常安全，蓝牙的数据带宽也高于ZigBee和Z-Wave（但是低于WiFi）。

最新版本的Bluetooth LE协议（现在也有用BLE5的）能耗远低于WiFi，并能形成“网状网络”（指设备能够接受网络信号，也能发送相同的信号，从而扩展网络的范围）。

**（2）ZigBee:**

Zig Bee技术作为无线传感器网络的通信平台, 可实现对各种环境及参数实时监控和智能预警, 网络中每个无线传感器节点可自行组织形成无线传感器通信网络。具有低功耗、低成本、延时短及组网灵活的优点。在校园当中，构建ZigBee网络可能会受到其他数据的干扰，例如GPRS、红外、WIFI以及蓝牙等。

WiFi也可扩展但WiFi扩展器输入一个信号最终只能输出一半的数据速率，性能下降明显。ZigBee这类的“网状网络”则不会有信号损失。

但是ZigBee和Z-Wave不能与任何主流计算设备兼容，因此需要通过集线器作为中间桥梁进一步通过WiFi接入网络，也可以通过插入Internet路由器的以太网电缆连接。

**（3）WiFi:**

WiFi协议最大的优势是可以直接接入互联网，同时也为未来打造智能无人营业网点做好了基础网络部署。相对于Zigbee，采用WiFi方案省去了额外的网关，相对于蓝牙协议，省去了对手机等移动终端的依赖。WiFi虽然传输容量大，传输数据稳定，但是功耗成为其在物联网领域应用的一大瓶颈。

WiFi是另一种流行的技术，已经有人建议为智能校园提供室内连接。蓝牙信标也可以用于智能校园应用程序，但它们通常仅限于室内环境，因为户外使用蓝牙需要部署密集的网络，而这些网络的管理非常复杂。

WiFi主要用于媒体流媒体，浏览网页和其他数据量大的活动，因为WiFi带宽高，耗电量大。因此许多智能设备并不支持WiFi连接，因为他们没有专门的电源或持久的电池，WiFi芯片也相对昂贵。

**（4）LoRa:**

LoRa是美国Semtech公司推出的一种LPWAN(低功耗广域物联网)通信技术，是一种基于扩频技术的超远距离无线传输方案，这一方案具有远距离传输、电池寿命长、系统容量大等优点，可进一步扩展传感网络。但应用LoRa进行物联网通信开发难度大、周期长、进入门槛高，需要学校的政策支持。

( LoRa更多地用于工业；另外，跟Zigbee相同，它应用有限，而且需要LoRa网关访问internet).

网络传输协议

针对数据类型的不同，HTTP已不能满足多种数据要求，需要采用不同的网络传输协议。

![图片](https://uploader.shimo.im/f/zhhiRW715QiQ5jrm.png!thumbnail)

针对音视频数据，可以采用RTP+RTSP的协议组合进行传输，而针对其他数据类型，则采用HTTP+TCP的传输协议方案。

接口协议

针对摄像头通有四种接口协议连接到视频平台，而最常采用ONVIF和公安部发布的GB/T 2818-2016协议，从而保证内容可以互通。

### 3.5.2   数据存储

#### 3.5.2.1 分布式存储与集中存储

![图片](https://uploader.shimo.im/f/CA3q8TJPRg8V1KaY.png!thumbnail)                                                  

（1）集中式

所谓集中式系统就是指由一台或多台主计算机组成中心节点，数据集中存储于这个中心节点中，并且整个系统的所有业务单元都集中部署在这个中心节点上，系统所有的功能均由其集中处理。也就是说，集中式系统中，每个终端或客户端及其仅仅负责数据的录入和输出，而数据的存储与控制处理完全交由主机来完成。

集中式系统最大的特点就是部署结构简单，由于集中式系统往往基于底层性能卓越的大型主机，因此无需考虑如何对服务进行多个节点的部署，也就不用考虑多个节点之间的分布式协作问题。

（2）分布式

分布式存储系统，是将数据分散存储在多台独立的设备上。分布式存储系统采用可扩展的系统结构，利用多台存储服务器分担存储负荷，利用位置服务器定位存储信息，它不但提高了系统的可靠性、可用性和存取效率，还易于扩展。简单来说就是将存储设备分布在不同的地理位置，数据就近存储，将数据分散在多个存储节点上，各个节点通过网络相连，对这些节点的资源进行统一的管理，从而大大缓解带宽压力，同时也解决了传统的本地文件系统在文件大小、文件数量等方面的限制。

适用场景：数据量大、高吞吐量、高性能、高扩展

#### 3.5.2.2 分布式存储的优劣

（1）优点

物理介质可以分布到不同的地理位置；视频流就近上传，对骨干网带宽没有什么要求；

可采用多套低端的小容量的存储设备分布部署，设备价格和维护成本较低；小容量设备分布部署，对机房环境要求低。分布式存储具有以下六大特性：

①  高性能

存户通常能够高效地管理读缓存和写缓存，并且支持自动的分级存储。分布式存储通过将热点区域内数据映射到高速存储中，来提高系统响应速度；一旦这些区域不再是热点，将会被移出高速存储。而写缓存技术则可使配合高速存储来明显改变整体存储的性能，按照一定的策略，先将数据写入高速存储，再在适当的时间进行同步落盘。

②  支持分级存储

由于通过网络进行松耦合链接，分布式存储允许高速存储和低速存储分开部署，或者任意比例混布。在不可预测的业务环境或者敏捷应用情况下，分层存储的优势可以发挥到最佳。解决了目前缓存分层存储最大的问题是当性能池读不命中后，从冷池提取数据的粒度太大，导致延迟高，从而给造成整体的性能的抖动的问题。

③  多副本的一致性

与传统的存储架构使用RAID模式来保证数据的可靠性不同，分布式存储采用了多副本备份机制。在存储数据之前，分布式存储对数据进行了分片，分片后的数据按照一定的规则保存在集群节点上。为了保证多个数据副本之间的一致性，分布式存储通常采用的是一个副本写入，多个副本读取的强一致性技术，使用镜像、条带、分布式校验等方式满足租户对于可靠性不同的需求。在读取数据失败的时候，系统可以通过从其他副本读取数据，重新写入该副本进行恢复，从而保证副本的总数固定;当数据长时间处于不一致状态时，系统会自动数据重建恢复，同时租户可设定数据恢复的带宽规则，最小化对业务的影响。

④  容灾与备份

在分布式存储的容灾中，一个重要的手段就是多时间点快照技术，使得用户生产系统能够实现一定时间间隔下的各版本数据的保存。特别值得一提的是，多时间点快照技术支持同时提取多个时间点样本同时恢复，这对于很多逻辑错误的灾难定位十分有用，如果用户有多台服务器或虚拟机可以用作系统恢复，通过比照和分析，可以快速找到哪个时间点才是需要回复的时间点，降低了故障定位的难度，缩短了定位时间。这个功能还非常有利于进行故障重现，从而进行分析和研究，避免灾难在未来再次发生。多副本技术，数据条带化放置，多时间点快照和周期增量复制等技术为分布式存储的高可靠性提供了保障。

⑤  弹性扩展

分布式存储可预估并且弹性扩展计算、存储容量和性能。分布式存储的水平扩展有以下几个特性：

1) 节点扩展后，旧数据会自动迁移到新节点，实现负载均衡，避免单点过热的情况出现；

2) 水平扩展只需要将新节点和原有集群连接到同一网络，整个过程不会对业务造成影响；

3) 当节点被添加到集群，集群系统的整体容量和性能也随之线性扩展，此后新节点的资源就会被管理平台接管，被用于分配或者回收。

⑥ 存储系统标准化

随着分布式存储的发展，存储行业的标准化进程也不断推进，分布式存储优先采用行业标准接口(SMI-S或OpenStack Cinder)进行存储接入。在平台层面，通过将异构存储资源进行抽象化，将传统的存储设备级的操作封装成面向存储资源的操作，从而简化异构存储基础架构的操作，以实现存储资源的集中管理，并能够自动执行创建、变更、回收等整个存储生命周期流程。基于异构存储整合的功能，用户可以实现跨不同品牌、介质地实现容灾，如用中低端阵列为高端阵列容灾，用不同磁盘阵列为闪存阵列容灾等等，从侧面降低了存储采购和管理成本。

（2）缺点

	①需要比较强的技术能力和运维能力，甚至有开发能力的用户。传统存储开箱即用，硬件由厂家提供，也有完善的文档和服务。而分布式很多是开源或者是有公司基于开源系统提供支持服务，版本迭代比较快，出问题后有可能需要自己解决。

	②数据一致性问题。对于对数据一致性要求比较高的应用场景，分布式存储的性能就稍弱，因为分布式的结构，数据同步是一个大问题，不如传统存储设备数据存储方式可靠。

	③稳定性问题，分布式存储非常依赖网络环境和带宽，如果网络发生抖动或者故障，都可能会影响分布式存储系统运行。例如，一旦发生IP冲突，那么整体分布式存储可能都无法访问。传统存储一般使用专用SAN或IP网络，稳定性方面，更可靠一些。

#### 3.5.2.3 HDFS

HDFS（Hadoop Distributed File System）即分布式文件系统，是指被设计成适合运行在通用硬件(commodity hardware)上的分布式文件系统（Distributed File System）。是分布式计算中数据存储管理的基础，是基于流数据模式访问和处理超大文件的需求而开发的，可以运行于廉价的商用服务器上。它所具有的高容错、高可靠性、高可扩展性、高获得性、高吞吐率等特征为海量数据提供了不怕故障的存储，为超大数据集（Large Data Set）的应用处理带来了很多便利。

（1）优缺点


| 优点   | 缺点   | 
|:----|:----:|:----|:----:|
| 高容错性、可构建在廉价机器上   | 不支持低延迟访问   | 
| 适合批处理   | 不适合小文件存储   | 
| 适合大数据处理   | 不支持并发写入   | 
| 流式文件访问   | 不支持修改   | 


（2）HBase

Hbase是一个分布式的、面向列的开源数据库，建立在HDFS之上，提供高可靠性、高性能、列存储、可伸缩、实时读写的数据库系统，以表的形式存储数据，适合于非结构化数据（非结构化和半结构化的松散数据）存储。主要依靠横向扩展，通过不断增加廉价的商用服务器，来增加计算和存储能力。

HBase中的表一般有如下特点：

①  大：一个表可以有上亿行，上百万列；

②  面向列：面向列（族）的存储和权限控制，列（族）独立检索；

③  稀疏：对于为空（null）的列，并不占用存储空间，因此，表可以设计的非常稀疏。

#### 3.5.2.4 存储方案：时序型数据库Cassandra 

   ![图片](https://uploader.shimo.im/f/4BtE0xw58e7ZUDgK.png!thumbnail)

对于校园底层监控设备的采集数据特征，具备明显的时序性的特点，如摄像头，智能手环等，对其数据的特征有以下几个方面：

1. **持续产生海量数据，没有波峰波谷。**比如对学生身体健康监测的手环，假如当前有100w人佩戴，每个手环一秒只采集3种metrcis（心跳、脉搏、步数），这样每秒钟也会产生300w的TPS。
2. **数据都是插入操作，基本没有更新删除操作。**时序业务产生的数据很少有更新删除的操作，基于这样的事实，在时序数据库架构设计上会有很大的简化。
3. **近期数据关注度更高，未来会更关注流式处理这个环节，时间久远的数据极少被访问，甚至可以丢弃。**这个很容易理解，哨兵系统我们通常最关心最近一小时的数据，最多看看最近3天的数据，很少去看3天以前的数据。随着流式计算的到来，时序数据在以后的发展中必然会更关注即时数据的价值，这部分数据的价值毫无疑问也是最大的。数据产生之后就可以根据某些规则进行报警是一个非常常见并重要的场景，报警时效性越高，对业务越有利。
4. **数据存在多个维度的标签，往往需要多维度联合查询以及统计查询。**时序数据另一个非常重要的功能是多维度聚合统计查询，比如业务需要统计最近一小时广告主google发布在USA地区的广告点击率和总收入分别是多少，这是一个典型的多维度聚合统计查询需求。这个需求通常对实效性要求不高，但对查询聚合性能有比较高的要求。

     为了更加方便快捷的对这种数据进行处理，我们选择了时序数据库Cassandra,	Cassandra是一套开源分布式NoSQL数据库系统。它最初由Facebook开发，用于储存收件箱等简单格式数据，集GoogleBigTable的数据模型与Amazon Dynamo的完全分布式的架构于一身Facebook于2008将 Cassandra 开源，此后，由于Cassandra良好的可扩展性，被Digg、Twitter等知名Web 2.0网站所采纳，成为了一种流行的分布式结构化数据存储方案。其本身具备存储这种时序化数据的能力，并为之后的扩容提供了方便。

### 3.5.3   数据挖掘

#### 3.5.3.1  数据挖掘计算方案依据

                                            ![图片](https://uploader.shimo.im/f/ndjIxA6CIAxhHgds.png!thumbnail)      

数据挖掘：是通过分析每个数据，从大量数据中寻找其规律的技术，主要有数据准备、规律寻找和规律表示三个步骤。规律表示是尽可能以用户可理解的方式（如可视化）将找出的规律表示出来。数据挖掘的任务有关联分析、聚类分析、分类分析、异常分析、特异群组分析和演变分析等。

数据挖掘与安全校园：在设计的摄像头，智能手环，传感器和RFID中，每天采集到大量的数据，如何通过这些数据来保障校园的安全性，如检测非法入侵，空气质量以及学生的身心健康状态是关键问题。有必要借助数据挖掘来进行异常分析。

#### 3.5.3.2 原始数据

（1）摄像机原始数据![图片](https://uploader.shimo.im/f/Vhi4xeFv8KtMSSSV.png!thumbnail)

   

（2）智能手环原始数据

![图片](https://uploader.shimo.im/f/mujsQPikY9evXXKq.png!thumbnail)

（3）传感器原始数据

  ![图片](https://uploader.shimo.im/f/JrK4zN63NJLGr5KL.png!thumbnail)

#### 3.5.3.3 数据挖掘计算方案设计

   ![图片](https://uploader.shimo.im/f/NovJhAmsSr7GBUGz.png!thumbnail)

**（1）数据的边缘/汇聚计算处理**

边缘计算：是指靠近物或数据源头的一侧，采用网络、计算、存储、应用核心能力为一体的开放平台。

1)  边缘计算可以实时或更快的进行数据处理和分析，让数据处理更靠近源，而不是外部数据中心或者云，可以缩短延迟时间。

2)  在成本预算上可以大大减轻经费预算。企业在本地设备上的数据管理解决方案所花费的成本大大低于云和数据中心网络。

3)  提高应用程序效率。通过降低延迟级别，应用程序可以更高效、更快速地运行。

安全校园终端采集设备的边缘计算：对摄像头，传感器，智能手环上采集到的数据，在数据源端拿到数据后，优先进行一些简单的计算逻辑，包括数据的去重，清洗，和一些简单的汇算等工作，再把边缘计算处理后的数据传给数据中心再进行一次汇聚计算。更快的对数据进行整体架构的计算，完成挖掘分析前准备工作

汇聚计算：对摄像头等终端采集设备边缘计算处理后的数据，传给汇聚模块进行进一步的分析挖掘计算，得到后面相关机器学习算法必要的参数，对数据进行一次汇聚。该模块可部署在云端，提供强大的计算能力，对采集的数据进行大量级的计算处理。

   ![图片](https://uploader.shimo.im/f/HJA1gSNJ9Mo4ID4k.png!thumbnail)

#### 3.5.3.4 数据的异常检测（相关算法）

异常检测指的是通过数据挖掘手段识别数据中的“异常点”。通俗的说就是那些与其他观测值有显著偏差的观测点，有时也会称作是极端值、离群点或孤立点等。

我们拥有的数据中有很多的时序数据，包括传感器数据，RFID芯片数据还有智能手环数据等等。时间序列的异常检测问题通常表述为找到相对于某些标准或常规信号的异常数据点，这里通常有多种异常点类型，从业务的角度来看，我们将只专注于最重要的，如：意外的峰值，意外的低谷，趋势变化与水平平移等。

   ![图片](https://uploader.shimo.im/f/HqJrAEz3l0m7Cg6E.png!thumbnail)

统计模型：优点是复杂度低，计算速度快，泛化能力强悍。因为没有训练过程，即使没有前期的数据积累，也可以快速的投入生产使用。缺点是准确率一般。但是这个其实是看场景的，并且也有简单的方法来提高业务层面的准确率。

机器学习模型：鲁棒性较好，准确率较高。需要训练模型，泛化能力一般。

深度学习模型：普遍需要喂大量的数据，计算复杂度高。整体看，准确性高，尤其是近段时间，强化学习的引入，进一步巩固其准确性方面的领先优势。

基本的异常检测算法和论文整理：[https://github.com/yzhao062/anomaly-detection-resources](https://github.com/yzhao062/anomaly-detection-resources)

   ![图片](https://uploader.shimo.im/f/q9U6B0Ox5W4v8cAX.png!thumbnail)

异常检测工具的汇总：[https://github.com/rob-med/awesome-TS-anomaly-detection](https://github.com/rob-med/awesome-TS-anomaly-detection)

# 4. 总结

## 4.1 产品设计流程

这次产品设计流程大概可以分为三个阶段，分别是前期调研阶段、认知分析阶段、原型设计阶段。

4.1.1 前期调研阶段 

在调研工作之前，我们小组已经确定了的内容是，要做的产品是与智慧校园有关的。于是在调研之前，我们确定了一些需要调研的问题，比如，智慧校园涉及到的知识有什么？智慧校园的范围那么大，我们要做智慧校园的哪些方面？是做安全方面还是做教学平台方面？针对的群体是高等教育还是普教？是做软件，还是做硬件，等等。我们以问题为导向，对以上问题进行了研究，并在组内进行了探讨，最后决定做软硬件结合的针对普教的智慧校园的智慧安全部分。

4.1.2 认知分析阶段

在确定了研究方向之后，小组的每个组员有侧重的对智慧安全的各个方面作了进一步的调研，比如技术方面，我们调研了物联网平台架构、数据传输协议、数据存储方法、数据挖掘方法等等，硬件设施方面，我们调研了市场上现在可用的智慧硬件，比如智能摄像头、智能手环、传感芯片、智慧传感器等等。另外为了确定用户需求和产品形态，我们除了做了市场分析，分析一些市场上现有的框架，还做了用户访谈，根据用户访谈和市场调研，我们确定了用户需求，以导图的形式梳理了产品场景。

4.1.3原型设计阶段

在有了技术方案、产品形态方案等方案的支持，我们就开始了产品原型图的构建。首先我们根据之前梳理的产品场景，梳理了产品的不同用户下的产品逻辑，比如家长、老师、普通管理员、超级管理员。总结好产品逻辑后，我们开始画线框图，在画完组内讨论的时候发现，将产品逻辑表现出来还是存在很多问题的，后来我们又画了高保真的原型图，解决了之前低保真的原型图的问题。

## 4.2 任务分配

这次小组项目的任务以“全组参与，各有侧重”为原则分配，基本每周都有项目进度，小组成员在每周的周四或者周五晚上使用腾讯会议进行小组讨论，开会前组长会准备好下一周的任务，并根据同学们的喜好和能力分配小组任务，小组会在下一周的周三晚上进行组内任务内容分享，并互相补充。下图记录了各个阶段不同组员工作的不同侧重点：

| 时间   | 任务   | 任务分配   | 
|:----:|:----:|:----:|
| 03.26-04.10 | 1.    掌握学校管理的流程，请在下方写出你总结的学校的管理流程，可简要的用流程图来表示，要有具体的部门以及做的具体的工作2.    你所调查到的智慧校园平台有哪些？他们各自都有什么功能？有什么共同点以及不同点？（最好写成竞品分析报告）3.    你认为CV、物联网、商业智能如何能够更好的服务智慧校园平台？（调查CV、物联网、商业智能以及他们现在的应用） | 任务1：吴绪瑶、秦佳音任务2：王天舒、周佳琳、陈宇婷任务3：戈通、魏康健 | 
| 04.18-04.24 | 1.     为什么做普教？ 2.     为什么要做智能干预、智能环境？ 3.     为什么要做安防？ 4.     用户访谈  | 任务1: 周佳琳、陈宇婷任务2：王天舒、魏康健任务3：吴绪瑶、戈通任务4：秦佳音 王天舒 | 
| 04.29-05.06 | 1.       数据怎么接入的（物联网平台体系）通信协议、API、网关——确保数据安全2.       数据获得后怎样存储3.       数据挖掘（分析）   | 任务1: 周佳琳、陈宇婷、秦佳音任务2: 王天舒、吴绪瑶任务3: 魏康健、戈通   | 
| 05.06-05.11 | 数据方案：硬件设备如何采集数据？都有什么数据？数据的结构？数据怎样存储？数据查询?数据可视化1.       摄像头2.       智能手环3.       传感器+芯片   | 任务1：吴绪瑶、秦佳音、陈宇婷任务2：王天舒、周佳琳任务3：戈通、魏康健   | 
| 05.11-05.15 | 1. 物联网平台设计2. 数据存储方案3. 数据挖掘方案   | 任务1：周佳琳、秦佳音、陈宇婷任务2：王天舒、吴绪瑶任务3：戈通、魏康健   | 
| 05.15-05.20 | 1. 线框图设计（手机端、电脑端——权限管理：老师、校方管理人员、家长、超级管理员）2. 故事板场景设计、产品逻辑梳理3. 技术支持（N种不同的设备，来自不同的厂家，如何接入物联网平台、设备更新，数据怎么办？中间件？）   | 任务1：陈宇婷、秦佳音任务2：周佳琳、吴绪瑶、王天舒任务3：戈通、魏康健   | 
| 05.21-05.26 | 1. 报告整合2. 高保真原型图设计   | 任务1：戈通、魏康健任务2：周佳琳、秦佳音、陈宇婷、吴绪瑶、王天舒   | 
| 05.26-06.03 | 1. 报告第二版修改2. 云计算探索   | 任务1：周佳琳、秦佳音、陈宇婷、吴绪瑶、王天舒任务2：戈通、魏康健   | 
| 06.05-06.11   | 1. 报告第二版修改+PPT  2. 原型图精进  3. 数据传输细节问题   | 任务1：全体  任务2：周佳琳、秦佳音、陈宇婷、吴绪瑶、王天舒  任务3：戈通、魏康健   | 

## 4.3 产品设计不足

4.3.1 产品设计

在产品设计方面，受到我们自身能力和时间、精力的限制，智慧安全这个产品还是不够全面，未能覆盖到校园工作生活的方方面面，另外产品原型图的设计也是只展示了主要功能，一些交互的设计也没能做到很全面。另外在数据方案部分，缺少行业前沿知识，仅仅通过调研互联网上的信息，不免设计出的方案会有些落后，或者不合适的地方。

从产品设计的全流程来看，我们小组的这次设计流程还缺少了产品验证和后续迭代部分。

4.3.2 小组工作

在小组工作方面上的不足主要体现在任务分配方面，个别阶段的任务较少、个别阶段的任务较多，未能合理的按照时间分配任务，在项目管理方面也存在一些缺陷，比如没有使用一些先进的项目管理工具，仍然使用Excel表格或者word做任务发布和记录，小组协作工作不到位，没有是用便捷的协作工具，导致组员产出的内容风格上不一致，后续又花了一些时间调整风格。

## 4.4 课程收获

通过本节课的学习，我们小组成员都感觉到了产品设计的辛苦，从一开始的产品调研，到后面的酝酿部分，都需要投入很多的精力才能尽可能地使产品完善，另外，还体会到了做一名产品工程师需要的技能不可单一，除了要有一定的调研能力，还需要有一定的技术积淀，还要有审美能力和使用工具的能力。从这次的小组项目中，小组每个人都对物联网、云计算、等大数据相关知识有了简单的认识和了解，同时也掌握了许多软件以及平台的应用，比如Adobe XD、Ps、Visio等等。另外小组成员还体会到了与其他组内成员的沟通协作的重要性。

